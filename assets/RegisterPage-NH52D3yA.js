import{j as e,e as p,r as w,I as l,c as b,L as u,d as j,A as f}from"./index-BHebYxy1.js";import{z as o,u as k,E as i,B as N,s as y}from"./ErrorTextForm-CdqvKzo6.js";const v=o.object({name:o.string().nonempty("Nama tidak boleh kosong"),email:o.string().email("Email tidak valid"),password:o.string().nonempty("Password tidak boleh kosong")}),S=({message:t,type:a})=>e.jsx("div",{children:e.jsx("div",{className:p("mb-3 rounded-md border-1 p-3 text-center",{"bg-tradewind-100 border-tradewind-200 text-tradewind-600":a==="success","border-rose-200 bg-rose-100 text-rose-400":a==="error"}),children:t})}),F=()=>{const[t,a]=w.useState({message:"",type:""}),{register:d,handleSubmit:c,formState:{errors:s,isSubmitting:m}}=k({resolver:y(v)}),x=async h=>{var n;try{const r=await j.post("/register",{...h}),{message:g}=r.data;a({message:g,type:"success"})}catch(r){r instanceof f&&(console.error("Register failed: ",r),a({message:(n=r.response)==null?void 0:n.data.message,type:"error"}))}};return e.jsx("main",{className:"bg-tradewind-50 dark:bg-woodsmoke-950 flex min-h-screen w-full items-center justify-center px-4",children:e.jsxs("div",{className:"dark:bg-woodsmoke-900 dark:border-woodsmoke-800 mx-auto flex w-full max-w-md flex-col rounded-md bg-white p-6 shadow-md shadow-slate-200 dark:border-1 dark:shadow-none",children:[e.jsx("h1",{className:"text-chathams-blue text-center text-3xl font-semibold dark:text-white",children:"Register"}),e.jsx("hr",{className:"bg-tradewind my-6 h-0.5 rounded-full border-none"}),t.message&&e.jsx(S,{...t}),e.jsxs("form",{method:"POST",onSubmit:c(x),className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"name",className:"text-chathams-blue text-lg dark:text-white",children:"Nama"}),e.jsx(l,{id:"name",type:"text",errors:s.name,...d("name")}),s.name&&e.jsx(i,{children:s.name.message})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"email",className:"text-chathams-blue text-lg dark:text-white",children:"Email"}),e.jsx(l,{id:"email",type:"email",errors:s.email,...d("email")}),s.email&&e.jsx(i,{children:s.email.message})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:"password",className:"text-chathams-blue text-lg dark:text-white",children:"Password"}),e.jsx(l,{id:"password",type:"password",errors:s.password,...d("password")}),s.password&&e.jsx(i,{children:s.password.message})]}),e.jsx(N,{type:"submit",disabled:m,children:m?e.jsx(b,{color:"white"}):e.jsx("span",{children:"Login"})})]}),e.jsx(u,{to:"/login",className:"text-woodsmoke-300 dark:text-woodsmoke-500 hover:text-woodsmoke-400 mt-6 text-center text-sm",children:"Sudah memiliki akun? Login disini"})]})})};export{F as default};
